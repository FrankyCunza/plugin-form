<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
     <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
     <link rel="stylesheet" href="form.css">
     <title>Plugin Form</title>
</head>

<body>
     <div class="grid grid-cols-1 w-screen gap-4 p-4">
          <div>
               <h2 class="font-bold text-2xl">BUILDER</h2>
               <form novalidate id="construct"></form>
          </div>
          <div id="form" class="p-4 bg-gray-100 border border-solid border-gray-500"></div>
          <div id="values"></div>
     </div>
     <script src="https://cdn.tailwindcss.com/3.0.0"></script>
     <script src="form.js"></script>
     <script>
          let form = new Form('form', { sections: 1 })
          // form.resetFields([
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "SELECT",
          //           "name": "select",
          //           "options": [
          //                {
          //                     "title": "DAVID",
          //                     "value": "1"
          //                },
          //                {
          //                     "title": "ERICK",
          //                     "value": "2"
          //                }
          //           ],
          //           "pattern": "",
          //           "position": 8,
          //           "required": false,
          //           "type": "select",
          //           "value": ""
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "25 H2",
          //           "name": "25_h2",
          //           "options": [
          //                {
          //                     "title": "",
          //                     "value": ""
          //                },
          //                {
          //                     "title": "",
          //                     "value": ""
          //                }
          //           ],
          //           "pattern": "",
          //           "position": 31,
          //           "required": true,
          //           "type": "H2",
          //           "value": "HOLA DAVID H2"
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "26 H3",
          //           "name": "26_h3",
          //           "options": [],
          //           "pattern": "",
          //           "position": 32,
          //           "required": true,
          //           "type": "H3",
          //           "value": ""
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "27 H4",
          //           "name": "27_h4",
          //           "options": [],
          //           "pattern": "",
          //           "position": 33,
          //           "required": true,
          //           "type": "H4",
          //           "value": ""
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "30 PARAGRAPH",
          //           "name": "30_paragraph",
          //           "options": [],
          //           "pattern": "",
          //           "position": 34,
          //           "required": true,
          //           "type": "p",
          //           "value": ""
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "28 H5",
          //           "name": "28_h5",
          //           "options": [],
          //           "pattern": "",
          //           "position": 35,
          //           "required": true,
          //           "type": "H5",
          //           "value": ""
          //      },
          //      {
          //           "alternateName": "",
          //           "columns": "1",
          //           "info": "",
          //           "label": "29 H6",
          //           "name": "29_h6",
          //           "options": [],
          //           "pattern": "",
          //           "position": 36,
          //           "required": true,
          //           "type": "H6",
          //           "value": ""
          //      }
          // ])

          let data = [
               {
                    "alternateName": "",
                    "columns": "1",
                    "info": "",
                    "label": "Nombre",
                    "name": "name",
                    skipValidation: true,
                    "pattern": "",
                    "required": true,
                    "type": "text",
                    "value": ""
               },
               {
                    "alternateName": "",
                    "columns": "1",
                    "info": "",
                    "label": "Comida",
                    "name": "comida",
                    "pattern": "",
                    "required": false,
                    "type": "radio",
                    "value": ""
               },
               {
                    "alternateName": "",
                    "columns": "1",
                    "info": "",
                    "label": "SELECT",
                    "name": "select",
                    "options": [
                         {
                              "title": "DAVID",
                              "value": "david"
                         },
                         {
                              "title": "ERICK",
                              "value": "erick"
                         }
                    ],
                    "pattern": "",
                    "required": false,
                    "type": "select",
                    "value": ""
               },
               {
                    "label": "Pais",
                    "name": "pais",
                    "info": "",
                    "alternateName": "",
                    "value": "",
                    "columns": "1",
                    "pattern": "",
                    "type": "checkbox",
                    "required": true,
                    "hidden": false,
                    "options": [
                         {
                              "title": "Argentina",
                              "value": "argentina"
                         },
                         {
                              "title": "Peru",
                              "value": "peru"
                         },
                         {
                              "title": "EspaÃ±a",
                              "value": "spain"
                         }
                    ]
               },
               {
                    "label": "Are you married?",
                    "name": "areyoumarried",
                    "info": "",
                    "alternateName": "",
                    "value": "",
                    "columns": "1",
                    "pattern": "",
                    "type": "checkbox",
                    "required": false,
                    "hidden": false,
               }
          ]

          Forms({
               form_builder: data, selector: "construct", key_parent: "", columns: 1, values: {}
          })

          document.getElementById("construct").addEventListener("submit", e => {
               e.preventDefault();
               validateForm({ selector: "construct", form_builder: [], name: "" }).then(res => {
                    console.log(res[1])
               }).catch(err => {
                    console.log(err)
               })
          })
     </script>
</body>

</html>